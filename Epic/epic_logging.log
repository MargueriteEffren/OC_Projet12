
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/customer/views.py changed, reloading.
WARNING:django.request:Unauthorized: /epic/events/
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/customer/views.py changed, reloading.
WARNING:django.request:Forbidden: /epic/customers/
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/customer/views.py changed, reloading.
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/authentication/permissions.py changed, reloading.
WARNING:django.request:Forbidden: /epic/customers/
WARNING:django.request:Unauthorized: /epic/customers/
WARNING:django.request:Unauthorized: /epic/customers/
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/customer/views.py changed, reloading.
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/customer/views.py changed, reloading.
ERROR:django.request:Internal Server Error: /epic/customers/
Traceback (most recent call last):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/mixins.py", line 38, in list
    queryset = self.filter_queryset(self.get_queryset())
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/customer/views.py", line 27, in get_queryset
    controllers = User.objects.filter(user_position='CONTROLLING').all()
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/db/models/manager.py", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/db/models/query.py", line 1420, in filter
    return self._filter_or_exclude(False, args, kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/db/models/query.py", line 1438, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/db/models/query.py", line 1445, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/db/models/sql/query.py", line 1532, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/db/models/sql/query.py", line 1562, in _add_q
    child_clause, needed_inner = self.build_filter(
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/db/models/sql/query.py", line 1407, in build_filter
    lookups, parts, reffed_expression = self.solve_lookup_type(arg)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/db/models/sql/query.py", line 1217, in solve_lookup_type
    _, field, _, lookup_parts = self.names_to_path(lookup_splitted, self.get_meta())
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/db/models/sql/query.py", line 1709, in names_to_path
    raise FieldError(
django.core.exceptions.FieldError: Cannot resolve keyword 'user_position' into field. Choices are: date_joined, email, event_sales_contact, event_support_contact, first_name, groups, id, is_active, is_staff, is_superuser, last_login, last_name, logentry, password, phone, position, sales_contact, user_permissions, username
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/customer/views.py changed, reloading.
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/customer/views.py changed, reloading.
ERROR:django.request:Internal Server Error: /epic/customers/
Traceback (most recent call last):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/mixins.py", line 38, in list
    queryset = self.filter_queryset(self.get_queryset())
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/customer/views.py", line 28, in get_queryset
    customer_sales = User.objects.filter(related_sales=user)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/db/models/manager.py", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/db/models/query.py", line 1420, in filter
    return self._filter_or_exclude(False, args, kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/db/models/query.py", line 1438, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/db/models/query.py", line 1445, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/db/models/sql/query.py", line 1532, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/db/models/sql/query.py", line 1562, in _add_q
    child_clause, needed_inner = self.build_filter(
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/db/models/sql/query.py", line 1407, in build_filter
    lookups, parts, reffed_expression = self.solve_lookup_type(arg)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/db/models/sql/query.py", line 1217, in solve_lookup_type
    _, field, _, lookup_parts = self.names_to_path(lookup_splitted, self.get_meta())
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/db/models/sql/query.py", line 1709, in names_to_path
    raise FieldError(
django.core.exceptions.FieldError: Cannot resolve keyword 'related_sales' into field. Choices are: date_joined, email, event_sales_contact, event_support_contact, first_name, groups, id, is_active, is_staff, is_superuser, last_login, last_name, logentry, password, phone, position, sales_contact, user_permissions, username
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/customer/views.py changed, reloading.
ERROR:django.request:Internal Server Error: /epic/customers/
Traceback (most recent call last):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/mixins.py", line 38, in list
    queryset = self.filter_queryset(self.get_queryset())
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/customer/views.py", line 29, in get_queryset
    customer_sales = Customer.objects.filter(related_sales=user)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/db/models/manager.py", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/db/models/query.py", line 1420, in filter
    return self._filter_or_exclude(False, args, kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/db/models/query.py", line 1438, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/db/models/query.py", line 1445, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/db/models/sql/query.py", line 1532, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/db/models/sql/query.py", line 1562, in _add_q
    child_clause, needed_inner = self.build_filter(
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/db/models/sql/query.py", line 1407, in build_filter
    lookups, parts, reffed_expression = self.solve_lookup_type(arg)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/db/models/sql/query.py", line 1217, in solve_lookup_type
    _, field, _, lookup_parts = self.names_to_path(lookup_splitted, self.get_meta())
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/db/models/sql/query.py", line 1709, in names_to_path
    raise FieldError(
django.core.exceptions.FieldError: Cannot resolve keyword 'related_sales' into field. Choices are: active_customer, company_name, created_time, customer, customer_adress, customer_email, customer_first_name, customer_last_name, customer_phone, event_customer, id, mothermodel_ptr, mothermodel_ptr_id, sales_contact, sales_contact_id, updated_time
ERROR:django.request:Internal Server Error: /epic/customers/
Traceback (most recent call last):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/mixins.py", line 38, in list
    queryset = self.filter_queryset(self.get_queryset())
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/customer/views.py", line 29, in get_queryset
    customer_sales = Customer.objects.filter(related_sales=user)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/db/models/manager.py", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/db/models/query.py", line 1420, in filter
    return self._filter_or_exclude(False, args, kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/db/models/query.py", line 1438, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/db/models/query.py", line 1445, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/db/models/sql/query.py", line 1532, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/db/models/sql/query.py", line 1562, in _add_q
    child_clause, needed_inner = self.build_filter(
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/db/models/sql/query.py", line 1407, in build_filter
    lookups, parts, reffed_expression = self.solve_lookup_type(arg)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/db/models/sql/query.py", line 1217, in solve_lookup_type
    _, field, _, lookup_parts = self.names_to_path(lookup_splitted, self.get_meta())
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/db/models/sql/query.py", line 1709, in names_to_path
    raise FieldError(
django.core.exceptions.FieldError: Cannot resolve keyword 'related_sales' into field. Choices are: active_customer, company_name, created_time, customer, customer_adress, customer_email, customer_first_name, customer_last_name, customer_phone, event_customer, id, mothermodel_ptr, mothermodel_ptr_id, sales_contact, sales_contact_id, updated_time
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/customer/views.py changed, reloading.
ERROR:django.request:Internal Server Error: /epic/customers/
Traceback (most recent call last):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/mixins.py", line 38, in list
    queryset = self.filter_queryset(self.get_queryset())
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/customer/views.py", line 30, in get_queryset
    authorized_viewers = controllers + customer_sales
TypeError: unsupported operand type(s) for +: 'QuerySet' and 'ForwardManyToOneDescriptor'
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/customer/views.py changed, reloading.
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/customer/views.py changed, reloading.
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/customer/views.py changed, reloading.
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/customer/views.py changed, reloading.
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/customer/views.py changed, reloading.
ERROR:django.request:Internal Server Error: /epic/customers/
Traceback (most recent call last):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/mixins.py", line 38, in list
    queryset = self.filter_queryset(self.get_queryset())
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/customer/views.py", line 33, in get_queryset
    return Customer.objects.filter(Q(user__in=controllers)|Q(sales_contact_id=user.id))
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/db/models/manager.py", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/db/models/query.py", line 1420, in filter
    return self._filter_or_exclude(False, args, kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/db/models/query.py", line 1438, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/db/models/query.py", line 1445, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/db/models/sql/query.py", line 1532, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/db/models/sql/query.py", line 1562, in _add_q
    child_clause, needed_inner = self.build_filter(
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/db/models/sql/query.py", line 1388, in build_filter
    return self._add_q(
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/db/models/sql/query.py", line 1562, in _add_q
    child_clause, needed_inner = self.build_filter(
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/db/models/sql/query.py", line 1407, in build_filter
    lookups, parts, reffed_expression = self.solve_lookup_type(arg)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/db/models/sql/query.py", line 1217, in solve_lookup_type
    _, field, _, lookup_parts = self.names_to_path(lookup_splitted, self.get_meta())
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/db/models/sql/query.py", line 1709, in names_to_path
    raise FieldError(
django.core.exceptions.FieldError: Cannot resolve keyword 'user' into field. Choices are: active_customer, company_name, created_time, customer, customer_adress, customer_email, customer_first_name, customer_last_name, customer_phone, event_customer, id, mothermodel_ptr, mothermodel_ptr_id, sales_contact, sales_contact_id, updated_time
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/customer/views.py changed, reloading.
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/customer/views.py changed, reloading.
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/customer/views.py changed, reloading.
ERROR:django.request:Internal Server Error: /epic/customers/
Traceback (most recent call last):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/mixins.py", line 38, in list
    queryset = self.filter_queryset(self.get_queryset())
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/customer/views.py", line 29, in get_queryset
    if request.user in controllers:
NameError: name 'request' is not defined
ERROR:django.request:Internal Server Error: /epic/customers/
Traceback (most recent call last):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/mixins.py", line 38, in list
    queryset = self.filter_queryset(self.get_queryset())
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/customer/views.py", line 29, in get_queryset
    if request.user in controllers:
NameError: name 'request' is not defined
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/customer/views.py changed, reloading.
ERROR:django.request:Internal Server Error: /epic/customers/
Traceback (most recent call last):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/mixins.py", line 38, in list
    queryset = self.filter_queryset(self.get_queryset())
TypeError: CustomerViewset.get_queryset() missing 1 required positional argument: 'request'
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/customer/views.py changed, reloading.
WARNING:django.request:Unauthorized: /epic/customers/
ERROR:django.request:Internal Server Error: /epic/customers/
Traceback (most recent call last):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/mixins.py", line 38, in list
    queryset = self.filter_queryset(self.get_queryset())
TypeError: CustomerViewset.get_queryset() missing 1 required positional argument: 'request'
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/customer/views.py changed, reloading.
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/customer/views.py changed, reloading.
WARNING:django.request:Unauthorized: /epic/customers/
WARNING:django.request:Unauthorized: /epic/customers/
WARNING:django.request:Forbidden: /epic/customers/
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/customer/views.py changed, reloading.
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/customer/views.py changed, reloading.
ERROR:django.request:Internal Server Error: /epic/customers/
Traceback (most recent call last):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 497, in dispatch
    self.initial(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 415, in initial
    self.check_permissions(request)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 332, in check_permissions
    if not permission.has_permission(request, self):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/permissions.py", line 76, in has_permission
    self.op2.has_permission(request, view)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/authentication/permissions.py", line 17, in has_permission
    return bool(request.user.position == 'SALES')
AttributeError: 'AnonymousUser' object has no attribute 'position'
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/Epic/urls.py changed, reloading.
ERROR:django.request:Internal Server Error: /epic/customers/
Traceback (most recent call last):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 497, in dispatch
    self.initial(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 415, in initial
    self.check_permissions(request)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 332, in check_permissions
    if not permission.has_permission(request, self):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/permissions.py", line 76, in has_permission
    self.op2.has_permission(request, view)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/authentication/permissions.py", line 17, in has_permission
    return bool(request.user.position == 'SALES')
AttributeError: 'AnonymousUser' object has no attribute 'position'
WARNING:django.request:Not Found: /epic/
WARNING:django.request:Not Found: /epic-auth/
WARNING:django.request:Not Found: /epic/customers/3/
WARNING:django.request:Not Found: /epic/customers/3/
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/customer/serializers.py changed, reloading.
ERROR:django.request:Internal Server Error: /epic/customers/
Traceback (most recent call last):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/mixins.py", line 43, in list
    return self.get_paginated_response(serializer.data)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/serializers.py", line 745, in data
    ret = super().data
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/serializers.py", line 246, in data
    self._data = self.to_representation(self.instance)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/serializers.py", line 663, in to_representation
    return [
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/serializers.py", line 664, in <listcomp>
    self.child.to_representation(item) for item in iterable
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/serializers.py", line 500, in to_representation
    for field in fields:
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/serializers.py", line 361, in _readable_fields
    for field in self.fields.values():
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/utils/functional.py", line 57, in __get__
    res = instance.__dict__[self.name] = self.func(instance)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/serializers.py", line 349, in fields
    for key, value in self.get_fields().items():
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/serializers.py", line 1053, in get_fields
    field_class, field_kwargs = self.build_field(
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/serializers.py", line 1199, in build_field
    return self.build_unknown_field(field_name, model_class)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/serializers.py", line 1317, in build_unknown_field
    raise ImproperlyConfigured(
django.core.exceptions.ImproperlyConfigured: Field name `customer_id` is not valid for model `Customer`.
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/customer/serializers.py changed, reloading.
WARNING:django.request:Not Found: /epic/customers/14/
WARNING:django.request:Not Found: /epic/customers/2/
WARNING:django.request:Forbidden: /epic/customers/14/
WARNING:django.request:Forbidden: /epic/customers/14/
WARNING:django.request:Forbidden: /epic/customers/
WARNING:django.request:Forbidden: /epic/customers/
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/customer/views.py changed, reloading.
WARNING:django.request:Unauthorized: /epic/customers/
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/core/views.py changed, reloading.
WARNING:django.request:Unauthorized: /epic/customers/16/
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/core/views.py changed, reloading.
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/customer/views.py changed, reloading.
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/customer/views.py changed, reloading.
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/customer/views.py changed, reloading.
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/core/views.py changed, reloading.
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/customer/views.py changed, reloading.
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/customer/views.py changed, reloading.
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/customer/views.py changed, reloading.
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/customer/views.py changed, reloading.
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/customer/views.py changed, reloading.
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/customer/views.py changed, reloading.
ERROR:django.request:Internal Server Error: /epic/customers/17/
Traceback (most recent call last):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
TypeError: DestroyMixin.destroy() missing 1 required positional argument: 'model_name'
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/customer/views.py changed, reloading.
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/customer/views.py changed, reloading.
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/authentication/permissions.py changed, reloading.
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/authentication/permissions.py changed, reloading.
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/customer/views.py changed, reloading.
WARNING:django.request:Unauthorized: /epic/users/
WARNING:django.request:Bad Request: /epic/users/6/
WARNING:django.request:Unauthorized: /epic/users/6/
WARNING:django.request:Unauthorized: /epic/login/
WARNING:django.request:Unauthorized: /epic/events/12/
WARNING:django.request:Unauthorized: /epic/login/
WARNING:django.request:Unauthorized: /epic/login/
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/authentication/permissions.py changed, reloading.
WARNING:django.request:Forbidden: /epic/customers/
WARNING:django.request:Forbidden: /epic/customers/18/
WARNING:django.request:Forbidden: /epic/customers/18/
WARNING:django.request:Unauthorized: /epic/customers/18/
WARNING:django.request:Forbidden: /epic/customers/18/
WARNING:django.request:Unauthorized: /epic/customers/18/
WARNING:django.request:Forbidden: /epic/customers/18/
WARNING:django.request:Forbidden: /epic/customers/18/
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/authentication/permissions.py changed, reloading.
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/authentication/permissions.py changed, reloading.
WARNING:django.request:Forbidden: /epic/customers/19/
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/authentication/permissions.py changed, reloading.
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/contract/models.py changed, reloading.
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/contract/models.py changed, reloading.
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/authentication/permissions.py changed, reloading.
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/authentication/permissions.py changed, reloading.
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/customer/views.py changed, reloading.
WARNING:django.request:Unauthorized: /epic/customers/19/
WARNING:django.request:Unauthorized: /epic/customers/20/
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/authentication/permissions.py changed, reloading.
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/authentication/permissions.py changed, reloading.
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/customer/views.py changed, reloading.
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/authentication/permissions.py changed, reloading.
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/customer/views.py changed, reloading.
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/customer/views.py changed, reloading.
ERROR:django.request:Internal Server Error: /epic/customers/23/
Traceback (most recent call last):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/customer/views.py", line 41, in destroy
    print(bool(request.user.id == obj.sales_contact.id))
NameError: name 'obj' is not defined
ERROR:django.request:Internal Server Error: /epic/customers/23/
Traceback (most recent call last):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/customer/views.py", line 41, in destroy
    customer_id = self.kwargs['pk']
NameError: name 'obj' is not defined
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/customer/views.py changed, reloading.
ERROR:django.request:Internal Server Error: /epic/customers/23/
Traceback (most recent call last):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/customer/views.py", line 42, in destroy
    print(bool(request.user.id == customer.sales_contact.id))
NameError: name 'customer' is not defined
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/customer/views.py changed, reloading.
ERROR:django.request:Internal Server Error: /epic/customers/23/
Traceback (most recent call last):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/customer/views.py", line 43, in destroy
    print(obj.sales_contact.id)
NameError: name 'obj' is not defined
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/customer/views.py changed, reloading.
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/customer/views.py changed, reloading.
WARNING:django.request:Forbidden: /epic/customers/24/
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/customer/views.py changed, reloading.
WARNING:django.request:Unauthorized: /epic/customers/
WARNING:django.request:Forbidden: /epic/customers/25/
WARNING:django.request:Unauthorized: /epic/customers/25/
WARNING:django.request:Forbidden: /epic/customers/24/
WARNING:django.request:Bad Request: /epic/customers/24/
WARNING:django.request:Unauthorized: /epic/customers/24/
WARNING:django.request:Forbidden: /epic/customers/24/
WARNING:django.request:Unauthorized: /epic/customers/24/
WARNING:django.request:Forbidden: /epic/customers/24/
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/customer/views.py changed, reloading.
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/customer/views.py changed, reloading.
WARNING:django.request:Forbidden: /epic/customers/24/
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/authentication/permissions.py changed, reloading.
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/customer/views.py changed, reloading.
WARNING:django.request:Forbidden: /epic/customers/24/
WARNING:django.request:Forbidden: /epic/customers/26/
WARNING:django.request:Unauthorized: /epic/customers/28/
WARNING:django.request:Forbidden: /epic/customers/28/
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/customer/views.py changed, reloading.
WARNING:django.request:Unauthorized: /epic/users/
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/authentication/views.py changed, reloading.
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/authentication/views.py changed, reloading.
ERROR:django.request:Internal Server Error: /epic/users/
Traceback (most recent call last):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 497, in dispatch
    self.initial(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 415, in initial
    self.check_permissions(request)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 332, in check_permissions
    if not permission.has_permission(request, self):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/permissions.py", line 58, in has_permission
    self.op2.has_permission(request, view)
TypeError: IsControllingUsers.has_permission() missing 1 required positional argument: 'obj'
ERROR:django.request:Internal Server Error: /epic/users/
Traceback (most recent call last):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 497, in dispatch
    self.initial(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 415, in initial
    self.check_permissions(request)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 332, in check_permissions
    if not permission.has_permission(request, self):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/permissions.py", line 58, in has_permission
    self.op2.has_permission(request, view)
TypeError: IsControllingUsers.has_permission() missing 1 required positional argument: 'obj'
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/authentication/permissions.py changed, reloading.
WARNING:django.request:Forbidden: /epic/users/
WARNING:django.request:Unauthorized: /epic/users/
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/authentication/views.py changed, reloading.
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/authentication/permissions.py changed, reloading.
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/contract/views.py changed, reloading.
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/contract/views.py changed, reloading.
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/contract/views.py changed, reloading.
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/contract/views.py changed, reloading.
WARNING:django.request:Forbidden: /epic/contracts/7/
WARNING:django.request:Forbidden: /epic/contracts/7/
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/contract/views.py changed, reloading.
ERROR:django.request:Internal Server Error: /epic/contracts/
Traceback (most recent call last):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/mixins.py", line 38, in list
    queryset = self.filter_queryset(self.get_queryset())
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/contract/views.py", line 28, in get_queryset
    print(obj.contract_customer.sales_contact.id)
NameError: name 'obj' is not defined
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/contract/views.py changed, reloading.
ERROR:django.request:Internal Server Error: /epic/contracts/7/
Traceback (most recent call last):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/mixins.py", line 54, in retrieve
    instance = self.get_object()
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/generics.py", line 83, in get_object
    queryset = self.filter_queryset(self.get_queryset())
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/contract/views.py", line 28, in get_queryset
    print(self.contract_customer.sales_contact.id)
AttributeError: 'ContractViewset' object has no attribute 'contract_customer'
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/contract/views.py changed, reloading.
WARNING:django.request:Forbidden: /epic/contracts/7/
WARNING:django.request:Unauthorized: /epic/contracts/7/
WARNING:django.request:Unauthorized: /epic/contracts/7/
WARNING:django.request:Forbidden: /epic/contracts/7/
WARNING:django.request:Forbidden: /epic/contracts/7/
WARNING:django.request:Unauthorized: /epic/customers/
WARNING:django.request:Forbidden: /epic/users/
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/authentication/permissions.py changed, reloading.
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/authentication/permissions.py changed, reloading.
WARNING:django.request:Unauthorized: /epic/customers/
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/customer/views.py changed, reloading.
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/authentication/permissions.py changed, reloading.
ERROR:django.request:Internal Server Error: /epic/customers/
Traceback (most recent call last):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 497, in dispatch
    self.initial(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 415, in initial
    self.check_permissions(request)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 332, in check_permissions
    if not permission.has_permission(request, self):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/permissions.py", line 75, in has_permission
    self.op1.has_permission(request, view) or
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/permissions.py", line 58, in has_permission
    self.op2.has_permission(request, view)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/authentication/permissions.py", line 33, in has_permission
    return request.user.id == obj.sales_contact.id
NameError: name 'obj' is not defined
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/authentication/permissions.py changed, reloading.
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/authentication/permissions.py changed, reloading.
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/authentication/permissions.py changed, reloading.
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/customer/views.py changed, reloading.
WARNING:django.request:Forbidden: /epic/customers/
WARNING:django.request:Unauthorized: /epic/customers/
ERROR:django.request:Internal Server Error: /epic/customers/33/
Traceback (most recent call last):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/customer/views.py", line 42, in destroy
    customer = self.get_object()
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/generics.py", line 99, in get_object
    self.check_object_permissions(self.request, obj)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 345, in check_object_permissions
    if not permission.has_object_permission(request, self, obj):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/permissions.py", line 81, in has_object_permission
    self.op1.has_object_permission(request, view, obj) or
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/authentication/permissions.py", line 30, in has_object_permission
    if request.method in permissions.SAFE_METHODS:
NameError: name 'permissions' is not defined
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/authentication/permissions.py changed, reloading.
WARNING:django.request:Forbidden: /epic/customers/33/
WARNING:django.request:Unauthorized: /epic/customers/33/
WARNING:django.request:Unauthorized: /epic/customers/32/
WARNING:django.request:Forbidden: /epic/customers/32/
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/authentication/permissions.py changed, reloading.
WARNING:django.request:Forbidden: /epic/customers/32/
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/customer/views.py changed, reloading.
WARNING:django.request:Forbidden: /epic/customers/32/
WARNING:django.request:Forbidden: /epic/customers/32/
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/customer/views.py changed, reloading.
WARNING:django.request:Forbidden: /epic/customers/32/
WARNING:django.request:Forbidden: /epic/customers/32/
WARNING:django.request:Forbidden: /epic/customers/32/
WARNING:django.request:Forbidden: /epic/customers/32/
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/customer/views.py changed, reloading.
WARNING:django.request:Forbidden: /epic/customers/31/
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/customer/views.py changed, reloading.
WARNING:django.request:Forbidden: /epic/customers/30/
WARNING:django.request:Forbidden: /epic/customers/30/
WARNING:django.request:Forbidden: /epic/customers/29/
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/authentication/permissions.py changed, reloading.
WARNING:django.request:Unauthorized: /epic/customers/
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/contract/views.py changed, reloading.
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/contract/views.py changed, reloading.
WARNING:django.request:Forbidden: /epic/contracts/
WARNING:django.request:Forbidden: /epic/contracts/
ERROR:django.request:Internal Server Error: /epic/contracts/36/
Traceback (most recent call last):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/contract/views.py", line 34, in destroy
    customer = self.get_object()
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/generics.py", line 99, in get_object
    self.check_object_permissions(self.request, obj)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 345, in check_object_permissions
    if not permission.has_object_permission(request, self, obj):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/permissions.py", line 81, in has_object_permission
    self.op1.has_object_permission(request, view, obj) or
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/authentication/permissions.py", line 37, in has_object_permission
    if request.method in permissions.SAFE_METHODS:
NameError: name 'permissions' is not defined
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/authentication/permissions.py changed, reloading.
WARNING:django.request:Forbidden: /epic/contracts/36/
WARNING:django.request:Forbidden: /epic/contracts/36/
WARNING:django.request:Not Found: /favicon.ico
WARNING:django.request:Unauthorized: /epic/contracts/
WARNING:django.request:Unauthorized: /epic/contracts/
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/authentication/permissions.py changed, reloading.
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/contract/views.py changed, reloading.
WARNING:django.request:Unauthorized: /epic/contracts/
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/contract/views.py changed, reloading.
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/authentication/permissions.py changed, reloading.
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/authentication/permissions.py changed, reloading.
WARNING:django.request:Forbidden: /epic/contracts/
WARNING:django.request:Forbidden: /epic/contracts/10/
WARNING:django.request:Unauthorized: /epic/contracts/10/
WARNING:django.request:Forbidden: /epic/contracts/9/
WARNING:django.request:Forbidden: /epic/contracts/7/
WARNING:django.request:Forbidden: /epic/contracts/10/
WARNING:django.request:Unauthorized: /epic/contracts/
WARNING:django.request:Forbidden: /epic/contracts/7/
WARNING:django.request:Forbidden: /epic/contracts/7/
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/contract/views.py changed, reloading.
WARNING:django.request:Forbidden: /epic/contracts/7/
WARNING:django.request:Unauthorized: /epic/contracts/7/
WARNING:django.request:Forbidden: /epic/contracts/7/
WARNING:django.request:Unauthorized: /epic/contracts/7/
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/contract/views.py changed, reloading.
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/authentication/permissions.py changed, reloading.
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/contract/views.py changed, reloading.
WARNING:django.request:Forbidden: /epic/contracts/7/
WARNING:django.request:Forbidden: /epic/contracts/
WARNING:django.request:Forbidden: /epic/contracts/7/
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/contract/views.py changed, reloading.
WARNING:django.request:Forbidden: /epic/contracts/7/
WARNING:django.request:Forbidden: /epic/contracts/7/
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/authentication/permissions.py changed, reloading.
WARNING:django.request:Forbidden: /epic/contracts/7/
WARNING:django.request:Forbidden: /epic/contracts/7/
WARNING:django.request:Forbidden: /epic/contracts/7/
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/authentication/permissions.py changed, reloading.
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/authentication/permissions.py changed, reloading.
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/authentication/permissions.py changed, reloading.
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/event/views.py changed, reloading.
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/event/views.py changed, reloading.
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/contract/views.py changed, reloading.
WARNING:django.request:Unauthorized: /epic/events/12/
WARNING:django.request:Not Found: /favicon.ico
WARNING:django.request:Unauthorized: /epic/contracts/
WARNING:django.request:Not Found: /epic/admin
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/event/views.py changed, reloading.
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/event/views.py changed, reloading.
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/authentication/permissions.py changed, reloading.
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/authentication/permissions.py changed, reloading.
WARNING:django.request:Forbidden: /epic/contracts/
WARNING:django.request:Unauthorized: /epic/contracts/
ERROR:django.request:Internal Server Error: /epic/events
Traceback (most recent call last):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/utils/deprecation.py", line 135, in __call__
    response = self.process_request(request)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/middleware/common.py", line 54, in process_request
    path = self.get_full_path_with_slash(request)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/middleware/common.py", line 88, in get_full_path_with_slash
    raise RuntimeError(
RuntimeError: You called this URL via POST, but the URL doesn't end in a slash and you have APPEND_SLASH set. Django can't redirect to the slash URL while maintaining POST data. Change your form to point to 127.0.0.1:8000/epic/events/ (note the trailing slash), or set APPEND_SLASH=False in your Django settings.
ERROR:django.request:Internal Server Error: /epic/events/
Traceback (most recent call last):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 497, in dispatch
    self.initial(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 415, in initial
    self.check_permissions(request)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 332, in check_permissions
    if not permission.has_permission(request, self):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/permissions.py", line 75, in has_permission
    self.op1.has_permission(request, view) or
TypeError: IsEventSupportOrReadOnly.has_permission() missing 1 required positional argument: 'obj'
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/authentication/permissions.py changed, reloading.
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/event/serializers.py changed, reloading.
WARNING:django.request:Forbidden: /epic/events/
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/event/views.py changed, reloading.
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/event/views.py changed, reloading.
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/authentication/permissions.py changed, reloading.
WARNING:django.request:Unauthorized: /epic/events/
WARNING:django.request:Forbidden: /epic/events/
WARNING:django.request:Forbidden: /epic/customers/
WARNING:django.request:Forbidden: /epic/contracts/
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/authentication/permissions.py changed, reloading.
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/authentication/permissions.py changed, reloading.
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/event/views.py changed, reloading.
WARNING:django.request:Unauthorized: /epic/events/
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/authentication/permissions.py changed, reloading.
ERROR:django.request:Internal Server Error: /epic/events/
Traceback (most recent call last):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 497, in dispatch
    self.initial(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 415, in initial
    self.check_permissions(request)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 332, in check_permissions
    if not permission.has_permission(request, self):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/authentication/permissions.py", line 71, in has_permission
    return request.user.id == obj.event_customer.sales_contact.id
NameError: name 'obj' is not defined
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/authentication/permissions.py changed, reloading.
ERROR:django.request:Internal Server Error: /epic/events/
Traceback (most recent call last):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 497, in dispatch
    self.initial(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 415, in initial
    self.check_permissions(request)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 332, in check_permissions
    if not permission.has_permission(request, self):
TypeError: IsEventSales.has_permission() missing 1 required positional argument: 'obj'
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/authentication/permissions.py changed, reloading.
ERROR:django.request:Internal Server Error: /epic/events/
Traceback (most recent call last):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 497, in dispatch
    self.initial(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 415, in initial
    self.check_permissions(request)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 332, in check_permissions
    if not permission.has_permission(request, self):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/authentication/permissions.py", line 71, in has_permission
    return request.user.id == self.event_customer.sales_contact.id
AttributeError: 'IsEventSales' object has no attribute 'event_customer'
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/authentication/permissions.py changed, reloading.
ERROR:django.request:Internal Server Error: /epic/events/
Traceback (most recent call last):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/request.py", line 416, in __getattr__
    return getattr(self._request, attr)
AttributeError: 'WSGIRequest' object has no attribute 'event_customer'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 497, in dispatch
    self.initial(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 415, in initial
    self.check_permissions(request)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 332, in check_permissions
    if not permission.has_permission(request, self):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/authentication/permissions.py", line 71, in has_permission
    return request.user.id == request.event_customer.sales_contact.id
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/request.py", line 418, in __getattr__
    return self.__getattribute__(attr)
AttributeError: 'Request' object has no attribute 'event_customer'
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/authentication/permissions.py changed, reloading.
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/authentication/permissions.py changed, reloading.
ERROR:django.request:Internal Server Error: /epic/events/
Traceback (most recent call last):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 497, in dispatch
    self.initial(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 415, in initial
    self.check_permissions(request)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 332, in check_permissions
    if not permission.has_permission(request, self):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/authentication/permissions.py", line 71, in has_permission
    return request.user.id == request.POST['event_customer'].sales_contact.id
AttributeError: 'str' object has no attribute 'sales_contact'
ERROR:django.request:Internal Server Error: /epic/events/
Traceback (most recent call last):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 497, in dispatch
    self.initial(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 415, in initial
    self.check_permissions(request)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 332, in check_permissions
    if not permission.has_permission(request, self):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/authentication/permissions.py", line 71, in has_permission
    return request.user.id == request.POST['event_customer'].sales_contact.id
AttributeError: 'str' object has no attribute 'sales_contact'
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/authentication/permissions.py changed, reloading.
ERROR:django.request:Internal Server Error: /epic/events/
Traceback (most recent call last):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 497, in dispatch
    self.initial(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 415, in initial
    self.check_permissions(request)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 332, in check_permissions
    if not permission.has_permission(request, self):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/authentication/permissions.py", line 73, in has_permission
    return request.user.id == customer.customer_id.sales_contact.id
NameError: name 'customer' is not defined
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/authentication/permissions.py changed, reloading.
ERROR:django.request:Internal Server Error: /epic/events/
Traceback (most recent call last):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 497, in dispatch
    self.initial(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 415, in initial
    self.check_permissions(request)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 332, in check_permissions
    if not permission.has_permission(request, self):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/authentication/permissions.py", line 74, in has_permission
    return request.user.id == customer.customer_id.sales_contact.id
AttributeError: 'QuerySet' object has no attribute 'customer_id'
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/authentication/permissions.py changed, reloading.
ERROR:django.request:Internal Server Error: /epic/events/
Traceback (most recent call last):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 497, in dispatch
    self.initial(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 415, in initial
    self.check_permissions(request)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 332, in check_permissions
    if not permission.has_permission(request, self):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/authentication/permissions.py", line 74, in has_permission
    return request.user.id == customer[0].customer_id.sales_contact.id
AttributeError: 'Customer' object has no attribute 'customer_id'
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/authentication/permissions.py changed, reloading.
WARNING:django.request:Forbidden: /epic/events/
WARNING:django.request:Unauthorized: /epic/events/
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/authentication/permissions.py changed, reloading.
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/authentication/permissions.py changed, reloading.
WARNING:django.request:Unauthorized: /epic/events/
WARNING:django.request:Forbidden: /epic/events/
WARNING:django.request:Forbidden: /epic/events/
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/event/views.py changed, reloading.
ERROR:django.request:Internal Server Error: /epic/events/
Traceback (most recent call last):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 497, in dispatch
    self.initial(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 415, in initial
    self.check_permissions(request)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 331, in check_permissions
    for permission in self.get_permissions():
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 278, in get_permissions
    return [permission() for permission in self.permission_classes]
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 278, in <listcomp>
    return [permission() for permission in self.permission_classes]
TypeError: 'tuple' object is not callable
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/event/views.py changed, reloading.
WARNING:django.request:Forbidden: /epic/events/
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/event/views.py changed, reloading.
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/authentication/permissions.py changed, reloading.
WARNING:django.request:Forbidden: /epic/events/
WARNING:django.request:Forbidden: /epic/events/
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/authentication/permissions.py changed, reloading.
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/event/views.py changed, reloading.
WARNING:django.request:Unauthorized: /epic/events/
WARNING:django.request:Unauthorized: /epic/events/
WARNING:django.request:Forbidden: /epic/events/
WARNING:django.request:Unauthorized: /epic/events/
WARNING:django.request:Forbidden: /epic/events/
WARNING:django.request:Unauthorized: /epic/events/
WARNING:django.request:Forbidden: /epic/events/
WARNING:django.request:Forbidden: /epic/events/43/
WARNING:django.request:Forbidden: /epic/events/43/
WARNING:django.request:Forbidden: /epic/events/43/
WARNING:django.request:Forbidden: /epic/events/
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/event/views.py changed, reloading.
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/authentication/permissions.py changed, reloading.
WARNING:django.request:Forbidden: /epic/events/
WARNING:django.request:Forbidden: /epic/events/43/
WARNING:django.request:Forbidden: /epic/events/43/
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/authentication/permissions.py changed, reloading.
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/authentication/permissions.py changed, reloading.
WARNING:django.request:Forbidden: /epic/events/43/
WARNING:django.request:Forbidden: /epic/events/43/
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/event/views.py changed, reloading.
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/event/views.py changed, reloading.
WARNING:django.request:Forbidden: /epic/events/43/
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/event/views.py changed, reloading.
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/event/views.py changed, reloading.
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/event/views.py changed, reloading.
ERROR:django.request:Internal Server Error: /epic/events/
Traceback (most recent call last):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/mixins.py", line 38, in list
    queryset = self.filter_queryset(self.get_queryset())
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/event/views.py", line 35, in get_queryset
    print(L[7].event_support_contact.id)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/db/models/query.py", line 446, in __getitem__
    return qs._result_cache[0]
IndexError: list index out of range
ERROR:django.request:Internal Server Error: /epic/events/
Traceback (most recent call last):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/mixins.py", line 38, in list
    queryset = self.filter_queryset(self.get_queryset())
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/event/views.py", line 35, in get_queryset
    print(L[6].event_support_contact.id)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/db/models/query.py", line 446, in __getitem__
    return qs._result_cache[0]
IndexError: list index out of range
ERROR:django.request:Internal Server Error: /epic/events/
Traceback (most recent call last):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/mixins.py", line 38, in list
    queryset = self.filter_queryset(self.get_queryset())
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/event/views.py", line 35, in get_queryset
    print(L[6].event_support_contact.id)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/db/models/query.py", line 446, in __getitem__
    return qs._result_cache[0]
IndexError: list index out of range
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/event/views.py changed, reloading.
WARNING:django.request:Forbidden: /epic/events/43/
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/authentication/permissions.py changed, reloading.
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/event/views.py changed, reloading.
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/event/views.py changed, reloading.
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/event/views.py changed, reloading.
WARNING:django.request:Forbidden: /epic/events/43/
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/event/views.py changed, reloading.
WARNING:django.request:Forbidden: /epic/events/43/
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/authentication/permissions.py changed, reloading.
WARNING:django.request:Forbidden: /epic/events/43/
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/event/views.py changed, reloading.
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/event/views.py changed, reloading.
WARNING:django.request:Forbidden: /epic/events/43/
WARNING:django.request:Forbidden: /epic/events/43/
WARNING:django.request:Forbidden: /epic/events/43/
WARNING:django.request:Forbidden: /epic/events/43/
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/event/views.py changed, reloading.
ERROR:django.request:Internal Server Error: /epic/events/
Traceback (most recent call last):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/mixins.py", line 38, in list
    queryset = self.filter_queryset(self.get_queryset())
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/event/views.py", line 35, in get_queryset
    print(request.user.id == L[6].event_support_contact.id)
NameError: name 'request' is not defined
ERROR:django.request:Internal Server Error: /epic/events/
Traceback (most recent call last):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/mixins.py", line 38, in list
    queryset = self.filter_queryset(self.get_queryset())
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/event/views.py", line 35, in get_queryset
    print(request.user.id == L[6].event_support_contact.id)
NameError: name 'request' is not defined
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/event/views.py changed, reloading.
ERROR:django.request:Internal Server Error: /epic/events/
Traceback (most recent call last):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/mixins.py", line 38, in list
    queryset = self.filter_queryset(self.get_queryset())
TypeError: EventViewset.get_queryset() missing 1 required positional argument: 'request'
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/event/views.py changed, reloading.
WARNING:django.request:Forbidden: /epic/events/43/
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/event/views.py changed, reloading.
WARNING:django.request:Forbidden: /epic/events/43/
WARNING:django.request:Forbidden: /epic/events/43/
ERROR:django.request:Internal Server Error: /epic/events/
Traceback (most recent call last):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/mixins.py", line 38, in list
    queryset = self.filter_queryset(self.get_queryset())
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/event/views.py", line 35, in get_queryset
    print(L[-1].event_support_contact.id)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/db/models/query.py", line 425, in __getitem__
    raise ValueError("Negative indexing is not supported.")
ValueError: Negative indexing is not supported.
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/event/views.py changed, reloading.
ERROR:django.request:Internal Server Error: /epic/events/
Traceback (most recent call last):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/mixins.py", line 38, in list
    queryset = self.filter_queryset(self.get_queryset())
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/event/views.py", line 35, in get_queryset
    print(L[:-1].event_support_contact.id)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/db/models/query.py", line 425, in __getitem__
    raise ValueError("Negative indexing is not supported.")
ValueError: Negative indexing is not supported.
ERROR:django.request:Internal Server Error: /epic/events/
Traceback (most recent call last):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/mixins.py", line 38, in list
    queryset = self.filter_queryset(self.get_queryset())
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/event/views.py", line 35, in get_queryset
    print(L[-1:].event_support_contact.id)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/db/models/query.py", line 425, in __getitem__
    raise ValueError("Negative indexing is not supported.")
ValueError: Negative indexing is not supported.
ERROR:django.request:Internal Server Error: /epic/events/
Traceback (most recent call last):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/mixins.py", line 38, in list
    queryset = self.filter_queryset(self.get_queryset())
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/event/views.py", line 35, in get_queryset
    print(L[-1:].event_support_contact.id)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/db/models/query.py", line 425, in __getitem__
    raise ValueError("Negative indexing is not supported.")
ValueError: Negative indexing is not supported.
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/event/views.py changed, reloading.
ERROR:django.request:Internal Server Error: /epic/events/
Traceback (most recent call last):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/mixins.py", line 38, in list
    queryset = self.filter_queryset(self.get_queryset())
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/event/views.py", line 35, in get_queryset
    print(L[-1:].event_support_contact.id)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/db/models/query.py", line 425, in __getitem__
    raise ValueError("Negative indexing is not supported.")
ValueError: Negative indexing is not supported.
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/event/views.py changed, reloading.
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/authentication/permissions.py changed, reloading.
WARNING:django.request:Forbidden: /epic/events/43/
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/authentication/permissions.py changed, reloading.
WARNING:django.request:Forbidden: /epic/events/43/
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/authentication/permissions.py changed, reloading.
WARNING:django.request:Forbidden: /epic/events/43/
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/authentication/permissions.py changed, reloading.
WARNING:django.request:Forbidden: /epic/events/43/
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/authentication/permissions.py changed, reloading.
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/authentication/permissions.py changed, reloading.
WARNING:django.request:Forbidden: /epic/events/43/
WARNING:django.request:Forbidden: /epic/events/43/
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/authentication/permissions.py changed, reloading.
WARNING:django.request:Forbidden: /epic/events/43/
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/authentication/permissions.py changed, reloading.
ERROR:django.request:Internal Server Error: /epic/events/43/
Traceback (most recent call last):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 497, in dispatch
    self.initial(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 415, in initial
    self.check_permissions(request)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 332, in check_permissions
    if not permission.has_permission(request, self):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/authentication/permissions.py", line 74, in has_permission
    request.user.id == obj.event_support_contact.id
NameError: name 'obj' is not defined
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/authentication/permissions.py changed, reloading.
ERROR:django.request:Internal Server Error: /epic/events/43/
Traceback (most recent call last):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 497, in dispatch
    self.initial(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 415, in initial
    self.check_permissions(request)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 332, in check_permissions
    if not permission.has_permission(request, self):
TypeError: IsEventSalesOrControllerOrEventSupport.has_permission() missing 1 required positional argument: 'obj'
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/authentication/permissions.py changed, reloading.
ERROR:django.request:Internal Server Error: /epic/events/43/
Traceback (most recent call last):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/request.py", line 416, in __getattr__
    return getattr(self._request, attr)
AttributeError: 'WSGIRequest' object has no attribute 'PUT'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 497, in dispatch
    self.initial(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 415, in initial
    self.check_permissions(request)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 332, in check_permissions
    if not permission.has_permission(request, self):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/authentication/permissions.py", line 72, in has_permission
    support_id = request.PUT['event_support_contact']
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/request.py", line 418, in __getattr__
    return self.__getattribute__(attr)
AttributeError: 'Request' object has no attribute 'PUT'
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/authentication/permissions.py changed, reloading.
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/authentication/permissions.py changed, reloading.
ERROR:django.request:Internal Server Error: /epic/events/43/
Traceback (most recent call last):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/utils/datastructures.py", line 84, in __getitem__
    list_ = super().__getitem__(key)
KeyError: 'event_support_contact'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 497, in dispatch
    self.initial(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 415, in initial
    self.check_permissions(request)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 332, in check_permissions
    if not permission.has_permission(request, self):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/authentication/permissions.py", line 72, in has_permission
    support_id = request.GET['event_support_contact']
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/utils/datastructures.py", line 86, in __getitem__
    raise MultiValueDictKeyError(key)
django.utils.datastructures.MultiValueDictKeyError: 'event_support_contact'
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/authentication/permissions.py changed, reloading.
WARNING:django.request:Unauthorized: /epic/events/43/
ERROR:django.request:Internal Server Error: /epic/events/
Traceback (most recent call last):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 497, in dispatch
    self.initial(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 415, in initial
    self.check_permissions(request)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 332, in check_permissions
    if not permission.has_permission(request, self):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/authentication/permissions.py", line 73, in has_permission
    event = Event.objects.filter(id=customer_id)
NameError: name 'Event' is not defined
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/authentication/permissions.py changed, reloading.
ERROR:django.request:Internal Server Error: /epic/events/
Traceback (most recent call last):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 497, in dispatch
    self.initial(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 415, in initial
    self.check_permissions(request)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 332, in check_permissions
    if not permission.has_permission(request, self):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/authentication/permissions.py", line 77, in has_permission
    request.user.id == event[0].event_support_contact.id # check the Supportperson related
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/db/models/query.py", line 446, in __getitem__
    return qs._result_cache[0]
IndexError: list index out of range
ERROR:django.request:Internal Server Error: /epic/events/43/
Traceback (most recent call last):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 497, in dispatch
    self.initial(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 415, in initial
    self.check_permissions(request)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 332, in check_permissions
    if not permission.has_permission(request, self):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/authentication/permissions.py", line 77, in has_permission
    request.user.id == event[0].event_support_contact.id # check the Supportperson related
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/db/models/query.py", line 446, in __getitem__
    return qs._result_cache[0]
IndexError: list index out of range
ERROR:django.request:Internal Server Error: /epic/events/43/
Traceback (most recent call last):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 497, in dispatch
    self.initial(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 415, in initial
    self.check_permissions(request)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 332, in check_permissions
    if not permission.has_permission(request, self):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/authentication/permissions.py", line 77, in has_permission
    request.user.id == event[0].event_support_contact.id # check the Supportperson related
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/db/models/query.py", line 446, in __getitem__
    return qs._result_cache[0]
IndexError: list index out of range
ERROR:django.request:Internal Server Error: /epic/events/43/
Traceback (most recent call last):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 497, in dispatch
    self.initial(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 415, in initial
    self.check_permissions(request)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 332, in check_permissions
    if not permission.has_permission(request, self):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/authentication/permissions.py", line 77, in has_permission
    request.user.id == event[0].event_support_contact.id # check the Supportperson related
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/db/models/query.py", line 446, in __getitem__
    return qs._result_cache[0]
IndexError: list index out of range
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/authentication/permissions.py changed, reloading.
ERROR:django.request:Internal Server Error: /epic/events/43/
Traceback (most recent call last):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 497, in dispatch
    self.initial(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 415, in initial
    self.check_permissions(request)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 332, in check_permissions
    if not permission.has_permission(request, self):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/authentication/permissions.py", line 77, in has_permission
    request.user.id == event[0].event_support_contact.id # check the Supportperson related
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/db/models/query.py", line 446, in __getitem__
    return qs._result_cache[0]
IndexError: list index out of range
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/authentication/permissions.py changed, reloading.
ERROR:django.request:Internal Server Error: /epic/events/43/
Traceback (most recent call last):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 497, in dispatch
    self.initial(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 415, in initial
    self.check_permissions(request)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 332, in check_permissions
    if not permission.has_permission(request, self):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/authentication/permissions.py", line 77, in has_permission
    request.user.id == event[0].event_support_contact.id # checks the Supportsperson related
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/db/models/query.py", line 446, in __getitem__
    return qs._result_cache[0]
IndexError: list index out of range
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/authentication/permissions.py changed, reloading.
WARNING:django.request:Method Not Allowed: /epic/events/43/
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/authentication/permissions.py changed, reloading.
ERROR:django.request:Internal Server Error: /epic/events/43/
Traceback (most recent call last):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 497, in dispatch
    self.initial(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 415, in initial
    self.check_permissions(request)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 332, in check_permissions
    if not permission.has_permission(request, self):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/authentication/permissions.py", line 77, in has_permission
    request.user.id == event[0].event_support_contact.id # checks the Supportsperson related
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/db/models/query.py", line 446, in __getitem__
    return qs._result_cache[0]
IndexError: list index out of range
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/authentication/permissions.py changed, reloading.
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/authentication/permissions.py changed, reloading.
ERROR:django.request:Internal Server Error: /epic/events/43/
Traceback (most recent call last):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 497, in dispatch
    self.initial(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 415, in initial
    self.check_permissions(request)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 332, in check_permissions
    if not permission.has_permission(request, self):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/authentication/permissions.py", line 76, in has_permission
    return request.user.id == customer[0].sales_contact.id or \
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/db/models/query.py", line 445, in __getitem__
    qs._fetch_all()
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/db/models/query.py", line 1866, in _fetch_all
    self._result_cache = list(self._iterable_class(self))
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/db/models/query.py", line 87, in __iter__
    results = compiler.execute_sql(
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/db/models/sql/compiler.py", line 1385, in execute_sql
    sql, params = self.as_sql()
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/db/models/sql/compiler.py", line 593, in as_sql
    extra_select, order_by, group_by = self.pre_sql_setup()
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/db/models/sql/compiler.py", line 71, in pre_sql_setup
    self.setup_query()
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/db/models/sql/compiler.py", line 62, in setup_query
    self.select, self.klass_info, self.annotation_col_map = self.get_select()
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/db/models/sql/compiler.py", line 278, in get_select
    related_klass_infos = self.get_related_selections(select)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/db/models/sql/compiler.py", line 1050, in get_related_selections
    raise FieldError(
django.core.exceptions.FieldError: Non-relational field given in select_related: 'id'. Choices are: mothermodel_ptr, sales_contact
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/authentication/permissions.py changed, reloading.
ERROR:django.request:Internal Server Error: /epic/events/43/
Traceback (most recent call last):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 497, in dispatch
    self.initial(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 415, in initial
    self.check_permissions(request)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 332, in check_permissions
    if not permission.has_permission(request, self):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/authentication/permissions.py", line 78, in has_permission
    request.user.id == event[0].event_support_contact.id # checks the Supportsperson related
UnboundLocalError: local variable 'event' referenced before assignment
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/authentication/permissions.py changed, reloading.
ERROR:django.request:Internal Server Error: /epic/events/43/
Traceback (most recent call last):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 497, in dispatch
    self.initial(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 415, in initial
    self.check_permissions(request)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 332, in check_permissions
    if not permission.has_permission(request, self):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/authentication/permissions.py", line 77, in has_permission
    request.user.id == event[0].event_support_contact.id # checks the Supportsperson related
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/db/models/query.py", line 446, in __getitem__
    return qs._result_cache[0]
IndexError: list index out of range
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/authentication/permissions.py changed, reloading.
WARNING:django.request:Unauthorized: /epic/events/43/
WARNING:django.request:Forbidden: /epic/events/43/
ERROR:django.request:Internal Server Error: /epic/events/
Traceback (most recent call last):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 497, in dispatch
    self.initial(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 415, in initial
    self.check_permissions(request)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 332, in check_permissions
    if not permission.has_permission(request, self):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/authentication/permissions.py", line 77, in has_permission
    request.user.id == event[0].event_support_contact.id # checks the Supportsperson related
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/db/models/query.py", line 446, in __getitem__
    return qs._result_cache[0]
IndexError: list index out of range
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/authentication/permissions.py changed, reloading.
WARNING:django.request:Forbidden: /epic/events/
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/authentication/permissions.py changed, reloading.
WARNING:django.request:Unauthorized: /epic/events/
WARNING:django.request:Forbidden: /epic/events/
WARNING:django.request:Unauthorized: /epic/events/
WARNING:django.request:Forbidden: /epic/events/44/
WARNING:django.request:Unauthorized: /epic/events/44/
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/authentication/permissions.py changed, reloading.
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/event/views.py changed, reloading.
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/customer/views.py changed, reloading.
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/customer/views.py changed, reloading.
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/customer/views.py changed, reloading.
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/customer/views.py changed, reloading.
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/customer/views.py changed, reloading.
WARNING:django.request:Unauthorized: /epic/customers/
WARNING:django.request:Unauthorized: /epic/customers/
WARNING:django.request:Unauthorized: /epic/customers/
WARNING:django.request:Unauthorized: /epic/customers/
WARNING:django.request:Unauthorized: /epic/customers/
WARNING:django.request:Unauthorized: /epic/contracts/
WARNING:django.request:Forbidden: /epic/contracts/
WARNING:django.request:Forbidden: /epic/contracts/7/
WARNING:django.request:Forbidden: /epic/contracts/
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/contract/views.py changed, reloading.
WARNING:django.request:Forbidden: /epic/contracts/
WARNING:django.request:Forbidden: /epic/contracts/
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/authentication/permissions.py changed, reloading.
WARNING:django.request:Forbidden: /epic/contracts/
WARNING:django.request:Forbidden: /epic/contracts/
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/authentication/permissions.py changed, reloading.
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/authentication/permissions.py changed, reloading.
WARNING:django.request:Forbidden: /epic/contracts/
WARNING:django.request:Forbidden: /epic/contracts/
WARNING:django.request:Forbidden: /epic/contracts/
WARNING:django.request:Forbidden: /epic/contracts/
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/contract/views.py changed, reloading.
WARNING:django.request:Forbidden: /epic/contracts/
WARNING:django.request:Forbidden: /epic/contracts/
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/contract/views.py changed, reloading.
WARNING:django.request:Forbidden: /epic/contracts/
WARNING:django.request:Forbidden: /epic/contracts/
WARNING:django.request:Forbidden: /epic/contracts/
WARNING:django.request:Forbidden: /epic/contracts/
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/authentication/permissions.py changed, reloading.
ERROR:django.request:Internal Server Error: /epic/contracts/
Traceback (most recent call last):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/mixins.py", line 38, in list
    queryset = self.filter_queryset(self.get_queryset())
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/contract/views.py", line 52, in get_queryset
    queryset = Customer.objects.all()
NameError: name 'Customer' is not defined
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/contract/views.py changed, reloading.
WARNING:django.request:Unauthorized: /epic/contracts/
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/authentication/permissions.py changed, reloading.
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/authentication/permissions.py changed, reloading.
WARNING:django.request:Forbidden: /epic/contracts/
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/contract/views.py changed, reloading.
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/customer/views.py changed, reloading.
WARNING:django.request:Forbidden: /epic/users/
WARNING:django.request:Unauthorized: /epic/users/
WARNING:django.request:Forbidden: /epic/users/
WARNING:django.request:Forbidden: /epic/contracts/
WARNING:django.request:Unauthorized: /epic/contracts/
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/event/views.py changed, reloading.
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/contract/views.py changed, reloading.
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/contract/views.py changed, reloading.
WARNING:django.request:Unauthorized: /epic/events/
WARNING:django.request:Not Found: /favicon.ico
ERROR:django.request:Internal Server Error: /epic/contracts/
Traceback (most recent call last):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/mixins.py", line 38, in list
    queryset = self.filter_queryset(self.get_queryset())
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/contract/views.py", line 39, in get_queryset
    contract_customer_filter = contract_customer.customer_email
NameError: name 'contract_customer' is not defined
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/contract/views.py changed, reloading.
ERROR:django.request:Internal Server Error: /epic/contracts/
Traceback (most recent call last):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/mixins.py", line 38, in list
    queryset = self.filter_queryset(self.get_queryset())
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/contract/views.py", line 39, in get_queryset
    contract_customer_filter = Contract.contract_customer.customer_email
AttributeError: 'ForwardManyToOneDescriptor' object has no attribute 'customer_email'
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/contract/views.py changed, reloading.
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/contract/views.py changed, reloading.
ERROR:django.request:Internal Server Error: /epic/contracts/
Traceback (most recent call last):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/mixins.py", line 38, in list
    queryset = self.filter_queryset(self.get_queryset())
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/contract/views.py", line 41, in get_queryset
    customer_queryset = queryset.filter(customer_email=customer_email)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/db/models/query.py", line 1420, in filter
    return self._filter_or_exclude(False, args, kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/db/models/query.py", line 1438, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/db/models/query.py", line 1445, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/db/models/sql/query.py", line 1532, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/db/models/sql/query.py", line 1562, in _add_q
    child_clause, needed_inner = self.build_filter(
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/db/models/sql/query.py", line 1407, in build_filter
    lookups, parts, reffed_expression = self.solve_lookup_type(arg)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/db/models/sql/query.py", line 1217, in solve_lookup_type
    _, field, _, lookup_parts = self.names_to_path(lookup_splitted, self.get_meta())
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/db/models/sql/query.py", line 1709, in names_to_path
    raise FieldError(
django.core.exceptions.FieldError: Cannot resolve keyword 'customer_email' into field. Choices are: contract_customer, contract_customer_id, created_time, event, id, mothermodel_ptr, mothermodel_ptr_id, payment_due, price, signed, updated_time
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/contract/views.py changed, reloading.
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/contract/views.py changed, reloading.
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/contract/views.py changed, reloading.
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/contract/views.py changed, reloading.
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/contract/views.py changed, reloading.
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/contract/views.py changed, reloading.
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/contract/views.py changed, reloading.
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/contract/views.py changed, reloading.
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/event/views.py changed, reloading.
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/contract/views.py changed, reloading.
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/event/views.py changed, reloading.
WARNING:django.request:Unauthorized: /epic/events/
ERROR:django.request:Internal Server Error: /epic/events/
Traceback (most recent call last):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/mixins.py", line 38, in list
    queryset = self.filter_queryset(self.get_queryset())
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/event/views.py", line 34, in get_queryset
    queryset = Contract.objects.all()
NameError: name 'Contract' is not defined
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/event/views.py changed, reloading.
ERROR:django.request:Internal Server Error: /epic/events/
Traceback (most recent call last):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/pagination.py", line 526, in get_count
    return queryset.count()
AttributeError: 'NoneType' object has no attribute 'count'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/mixins.py", line 40, in list
    page = self.paginate_queryset(queryset)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/generics.py", line 171, in paginate_queryset
    return self.paginator.paginate_queryset(queryset, self.request, view=self)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/pagination.py", line 387, in paginate_queryset
    self.count = self.get_count(queryset)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/pagination.py", line 528, in get_count
    return len(queryset)
TypeError: object of type 'NoneType' has no len()
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/event/views.py changed, reloading.
ERROR:django.request:Internal Server Error: /epic/events/
Traceback (most recent call last):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/pagination.py", line 526, in get_count
    return queryset.count()
AttributeError: 'NoneType' object has no attribute 'count'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/mixins.py", line 40, in list
    page = self.paginate_queryset(queryset)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/generics.py", line 171, in paginate_queryset
    return self.paginator.paginate_queryset(queryset, self.request, view=self)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/pagination.py", line 387, in paginate_queryset
    self.count = self.get_count(queryset)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/pagination.py", line 528, in get_count
    return len(queryset)
TypeError: object of type 'NoneType' has no len()
ERROR:django.request:Internal Server Error: /epic/events/
Traceback (most recent call last):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/pagination.py", line 526, in get_count
    return queryset.count()
AttributeError: 'NoneType' object has no attribute 'count'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/mixins.py", line 40, in list
    page = self.paginate_queryset(queryset)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/generics.py", line 171, in paginate_queryset
    return self.paginator.paginate_queryset(queryset, self.request, view=self)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/pagination.py", line 387, in paginate_queryset
    self.count = self.get_count(queryset)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/pagination.py", line 528, in get_count
    return len(queryset)
TypeError: object of type 'NoneType' has no len()
ERROR:django.request:Internal Server Error: /epic/events/
Traceback (most recent call last):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/pagination.py", line 526, in get_count
    return queryset.count()
AttributeError: 'NoneType' object has no attribute 'count'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/mixins.py", line 40, in list
    page = self.paginate_queryset(queryset)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/generics.py", line 171, in paginate_queryset
    return self.paginator.paginate_queryset(queryset, self.request, view=self)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/pagination.py", line 387, in paginate_queryset
    self.count = self.get_count(queryset)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/pagination.py", line 528, in get_count
    return len(queryset)
TypeError: object of type 'NoneType' has no len()
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/event/views.py changed, reloading.
ERROR:django.request:Internal Server Error: /epic/events/
Traceback (most recent call last):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/pagination.py", line 526, in get_count
    return queryset.count()
AttributeError: 'NoneType' object has no attribute 'count'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/mixins.py", line 40, in list
    page = self.paginate_queryset(queryset)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/generics.py", line 171, in paginate_queryset
    return self.paginator.paginate_queryset(queryset, self.request, view=self)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/pagination.py", line 387, in paginate_queryset
    self.count = self.get_count(queryset)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/pagination.py", line 528, in get_count
    return len(queryset)
TypeError: object of type 'NoneType' has no len()
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/event/views.py changed, reloading.
ERROR:django.request:Internal Server Error: /epic/events/
Traceback (most recent call last):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/pagination.py", line 526, in get_count
    return queryset.count()
AttributeError: 'NoneType' object has no attribute 'count'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/mixins.py", line 40, in list
    page = self.paginate_queryset(queryset)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/generics.py", line 171, in paginate_queryset
    return self.paginator.paginate_queryset(queryset, self.request, view=self)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/pagination.py", line 387, in paginate_queryset
    self.count = self.get_count(queryset)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/pagination.py", line 528, in get_count
    return len(queryset)
TypeError: object of type 'NoneType' has no len()
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/event/views.py changed, reloading.
WARNING:django.request:Unauthorized: /epic/events/
ERROR:django.request:Internal Server Error: /epic/events/
Traceback (most recent call last):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/pagination.py", line 526, in get_count
    return queryset.count()
AttributeError: 'NoneType' object has no attribute 'count'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/mixins.py", line 40, in list
    page = self.paginate_queryset(queryset)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/generics.py", line 171, in paginate_queryset
    return self.paginator.paginate_queryset(queryset, self.request, view=self)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/pagination.py", line 387, in paginate_queryset
    self.count = self.get_count(queryset)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/pagination.py", line 528, in get_count
    return len(queryset)
TypeError: object of type 'NoneType' has no len()
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/event/views.py changed, reloading.
ERROR:django.request:Internal Server Error: /epic/events/
Traceback (most recent call last):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/pagination.py", line 526, in get_count
    return queryset.count()
AttributeError: 'NoneType' object has no attribute 'count'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/mixins.py", line 40, in list
    page = self.paginate_queryset(queryset)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/generics.py", line 171, in paginate_queryset
    return self.paginator.paginate_queryset(queryset, self.request, view=self)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/pagination.py", line 387, in paginate_queryset
    self.count = self.get_count(queryset)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/pagination.py", line 528, in get_count
    return len(queryset)
TypeError: object of type 'NoneType' has no len()
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/event/views.py changed, reloading.
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/event/views.py changed, reloading.
ERROR:django.request:Internal Server Error: /epic/events/
Traceback (most recent call last):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/mixins.py", line 38, in list
    queryset = self.filter_queryset(self.get_queryset())
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/event/views.py", line 49, in get_queryset
    if company_email is not None:
NameError: name 'company_email' is not defined
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/event/views.py changed, reloading.
ERROR:django.request:Internal Server Error: /epic/events/
Traceback (most recent call last):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/pagination.py", line 526, in get_count
    return queryset.count()
AttributeError: 'NoneType' object has no attribute 'count'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/mixins.py", line 40, in list
    page = self.paginate_queryset(queryset)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/generics.py", line 171, in paginate_queryset
    return self.paginator.paginate_queryset(queryset, self.request, view=self)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/pagination.py", line 387, in paginate_queryset
    self.count = self.get_count(queryset)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/pagination.py", line 528, in get_count
    return len(queryset)
TypeError: object of type 'NoneType' has no len()
ERROR:django.request:Internal Server Error: /epic/events/
Traceback (most recent call last):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/pagination.py", line 526, in get_count
    return queryset.count()
AttributeError: 'NoneType' object has no attribute 'count'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/mixins.py", line 40, in list
    page = self.paginate_queryset(queryset)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/generics.py", line 171, in paginate_queryset
    return self.paginator.paginate_queryset(queryset, self.request, view=self)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/pagination.py", line 387, in paginate_queryset
    self.count = self.get_count(queryset)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/pagination.py", line 528, in get_count
    return len(queryset)
TypeError: object of type 'NoneType' has no len()
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/event/views.py changed, reloading.
ERROR:django.request:Internal Server Error: /epic/events/
Traceback (most recent call last):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/pagination.py", line 526, in get_count
    return queryset.count()
AttributeError: 'NoneType' object has no attribute 'count'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/mixins.py", line 40, in list
    page = self.paginate_queryset(queryset)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/generics.py", line 171, in paginate_queryset
    return self.paginator.paginate_queryset(queryset, self.request, view=self)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/pagination.py", line 387, in paginate_queryset
    self.count = self.get_count(queryset)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/pagination.py", line 528, in get_count
    return len(queryset)
TypeError: object of type 'NoneType' has no len()
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/event/views.py changed, reloading.
ERROR:django.request:Internal Server Error: /epic/events/
Traceback (most recent call last):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/pagination.py", line 526, in get_count
    return queryset.count()
AttributeError: 'NoneType' object has no attribute 'count'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/mixins.py", line 40, in list
    page = self.paginate_queryset(queryset)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/generics.py", line 171, in paginate_queryset
    return self.paginator.paginate_queryset(queryset, self.request, view=self)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/pagination.py", line 387, in paginate_queryset
    self.count = self.get_count(queryset)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/pagination.py", line 528, in get_count
    return len(queryset)
TypeError: object of type 'NoneType' has no len()
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/event/views.py changed, reloading.
ERROR:django.request:Internal Server Error: /epic/events/
Traceback (most recent call last):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/pagination.py", line 526, in get_count
    return queryset.count()
AttributeError: 'NoneType' object has no attribute 'count'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/mixins.py", line 40, in list
    page = self.paginate_queryset(queryset)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/generics.py", line 171, in paginate_queryset
    return self.paginator.paginate_queryset(queryset, self.request, view=self)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/pagination.py", line 387, in paginate_queryset
    self.count = self.get_count(queryset)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/pagination.py", line 528, in get_count
    return len(queryset)
TypeError: object of type 'NoneType' has no len()
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/event/views.py changed, reloading.
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/event/views.py changed, reloading.
WARNING:django.request:Unauthorized: /epic/events/
ERROR:django.request:Internal Server Error: /epic/events/
Traceback (most recent call last):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/mixins.py", line 38, in list
    queryset = self.filter_queryset(self.get_queryset())
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/event/views.py", line 47, in get_queryset
    if company_queryset > 0:
TypeError: '>' not supported between instances of 'QuerySet' and 'int'
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/event/views.py changed, reloading.
ERROR:django.request:Internal Server Error: /epic/events/
Traceback (most recent call last):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/pagination.py", line 526, in get_count
    return queryset.count()
AttributeError: 'NoneType' object has no attribute 'count'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/mixins.py", line 40, in list
    page = self.paginate_queryset(queryset)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/generics.py", line 171, in paginate_queryset
    return self.paginator.paginate_queryset(queryset, self.request, view=self)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/pagination.py", line 387, in paginate_queryset
    self.count = self.get_count(queryset)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/pagination.py", line 528, in get_count
    return len(queryset)
TypeError: object of type 'NoneType' has no len()
ERROR:django.request:Internal Server Error: /epic/events/
Traceback (most recent call last):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/pagination.py", line 526, in get_count
    return queryset.count()
AttributeError: 'NoneType' object has no attribute 'count'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/mixins.py", line 40, in list
    page = self.paginate_queryset(queryset)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/generics.py", line 171, in paginate_queryset
    return self.paginator.paginate_queryset(queryset, self.request, view=self)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/pagination.py", line 387, in paginate_queryset
    self.count = self.get_count(queryset)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/pagination.py", line 528, in get_count
    return len(queryset)
TypeError: object of type 'NoneType' has no len()
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/event/views.py changed, reloading.
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/event/views.py changed, reloading.
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/contract/views.py changed, reloading.
WARNING:django.request:Unauthorized: /epic/events/
WARNING:django.request:Unauthorized: /epic/events/
WARNING:django.request:Not Found: /epic/events/search=2022-12/
WARNING:django.request:Not Found: /epic/events/search=2022-12-15/
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/event/views.py changed, reloading.
WARNING:django.request:Not Found: /epic/events/search=2022-12/
WARNING:django.request:Not Found: /epic/events/search=2022-12-15/
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/event/views.py changed, reloading.
WARNING:django.request:Not Found: /epic/events/search=2023/
WARNING:django.request:Not Found: /epic/events/search=2023/
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/event/views.py changed, reloading.
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/customer/views.py changed, reloading.
WARNING:django.request:Unauthorized: /epic/events/
WARNING:django.request:Not Found: /favicon.ico
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/customer/views.py changed, reloading.
WARNING:django.request:Unauthorized: /epic/events/
WARNING:django.request:Not Found: /favicon.ico
WARNING:django.request:Unauthorized: /epic/events/
WARNING:django.request:Not Found: /favicon.ico
WARNING:django.request:Unauthorized: /epic/events/43/
ERROR:django.request:Internal Server Error: /epic/events/45/
Traceback (most recent call last):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/utils/datastructures.py", line 84, in __getitem__
    list_ = super().__getitem__(key)
KeyError: 'event_customer'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 497, in dispatch
    self.initial(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 415, in initial
    self.check_permissions(request)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 332, in check_permissions
    if not permission.has_permission(request, self):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/authentication/permissions.py", line 67, in has_permission
    customer_id = request.POST['event_customer'] # checks the customer related to the event
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/utils/datastructures.py", line 86, in __getitem__
    raise MultiValueDictKeyError(key)
django.utils.datastructures.MultiValueDictKeyError: 'event_customer'
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/event/views.py changed, reloading.
ERROR:django.request:Internal Server Error: /epic/events/45/
Traceback (most recent call last):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/utils/datastructures.py", line 84, in __getitem__
    list_ = super().__getitem__(key)
KeyError: 'event_customer'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 497, in dispatch
    self.initial(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 415, in initial
    self.check_permissions(request)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 332, in check_permissions
    if not permission.has_permission(request, self):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/authentication/permissions.py", line 67, in has_permission
    customer_id = request.POST['event_customer'] # checks the customer related to the event
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/utils/datastructures.py", line 86, in __getitem__
    raise MultiValueDictKeyError(key)
django.utils.datastructures.MultiValueDictKeyError: 'event_customer'
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/authentication/permissions.py changed, reloading.
ERROR:django.request:Internal Server Error: /epic/events/45/
Traceback (most recent call last):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/request.py", line 416, in __getattr__
    return getattr(self._request, attr)
AttributeError: 'WSGIRequest' object has no attribute 'DELETE'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 497, in dispatch
    self.initial(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 415, in initial
    self.check_permissions(request)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 332, in check_permissions
    if not permission.has_permission(request, self):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/authentication/permissions.py", line 71, in has_permission
    customer_id = request.DELETE['event_customer']  # checks the customer related to the event
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/request.py", line 418, in __getattr__
    return self.__getattribute__(attr)
AttributeError: 'Request' object has no attribute 'DELETE'
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/authentication/permissions.py changed, reloading.
ERROR:django.request:Internal Server Error: /epic/events/45/
Traceback (most recent call last):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 497, in dispatch
    self.initial(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 415, in initial
    self.check_permissions(request)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 332, in check_permissions
    if not permission.has_permission(request, self):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/authentication/permissions.py", line 73, in has_permission
    customer = Customer.objects.filter(id=customer_id) # filter returns a list
UnboundLocalError: local variable 'customer_id' referenced before assignment
ERROR:django.request:Internal Server Error: /epic/events/45/
Traceback (most recent call last):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 497, in dispatch
    self.initial(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 415, in initial
    self.check_permissions(request)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 332, in check_permissions
    if not permission.has_permission(request, self):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/authentication/permissions.py", line 73, in has_permission
    #with one element
UnboundLocalError: local variable 'customer_id' referenced before assignment
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/authentication/permissions.py changed, reloading.
ERROR:django.request:Internal Server Error: /epic/events/45/
Traceback (most recent call last):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 497, in dispatch
    self.initial(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 415, in initial
    self.check_permissions(request)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 332, in check_permissions
    if not permission.has_permission(request, self):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/authentication/permissions.py", line 72, in has_permission
    customer = Customer.objects.filter(id=customer_id) # filter returns a list
UnboundLocalError: local variable 'customer_id' referenced before assignment
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/authentication/permissions.py changed, reloading.
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/authentication/permissions.py changed, reloading.
WARNING:django.request:Unauthorized: /epic/events/45/
ERROR:django.request:Internal Server Error: /epic/events/45/
Traceback (most recent call last):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/utils/datastructures.py", line 84, in __getitem__
    list_ = super().__getitem__(key)
KeyError: 'event_customer'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 497, in dispatch
    self.initial(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 415, in initial
    self.check_permissions(request)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 332, in check_permissions
    if not permission.has_permission(request, self):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/authentication/permissions.py", line 68, in has_permission
    customer_id = request.POST['event_customer'] # checks the customer related to the event
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/utils/datastructures.py", line 86, in __getitem__
    raise MultiValueDictKeyError(key)
django.utils.datastructures.MultiValueDictKeyError: 'event_customer'
ERROR:django.request:Internal Server Error: /epic/events/46/
Traceback (most recent call last):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/utils/datastructures.py", line 84, in __getitem__
    list_ = super().__getitem__(key)
KeyError: 'event_customer'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 497, in dispatch
    self.initial(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 415, in initial
    self.check_permissions(request)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 332, in check_permissions
    if not permission.has_permission(request, self):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/authentication/permissions.py", line 68, in has_permission
    customer_id = request.POST['event_customer'] # checks the customer related to the event
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/utils/datastructures.py", line 86, in __getitem__
    raise MultiValueDictKeyError(key)
django.utils.datastructures.MultiValueDictKeyError: 'event_customer'
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/authentication/permissions.py changed, reloading.
ERROR:django.request:Internal Server Error: /epic/events/46/
Traceback (most recent call last):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 497, in dispatch
    self.initial(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 415, in initial
    self.check_permissions(request)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 332, in check_permissions
    if not permission.has_permission(request, self):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/authentication/permissions.py", line 68, in has_permission
    customer_id = request.POST.get('event_customer', False) # checks the customer related to the event
TypeError: 'method' object is not subscriptable
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/event/views.py changed, reloading.
ERROR:django.request:Internal Server Error: /epic/events/46/
Traceback (most recent call last):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 497, in dispatch
    self.initial(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 415, in initial
    self.check_permissions(request)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 332, in check_permissions
    if not permission.has_permission(request, self):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/authentication/permissions.py", line 77, in has_permission
    return request.user.id == customer[0].sales_contact.id or \
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/db/models/query.py", line 446, in __getitem__
    return qs._result_cache[0]
IndexError: list index out of range
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/event/views.py changed, reloading.
ERROR:django.request:Internal Server Error: /epic/events/46/
Traceback (most recent call last):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/mixins.py", line 65, in update
    instance = self.get_object()
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/generics.py", line 83, in get_object
    queryset = self.filter_queryset(self.get_queryset())
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/event/views.py", line 54, in get_queryset
    print(request.POST.get('event_customer', False))
NameError: name 'request' is not defined
ERROR:django.request:Internal Server Error: /epic/events/46/
Traceback (most recent call last):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/mixins.py", line 65, in update
    instance = self.get_object()
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/generics.py", line 83, in get_object
    queryset = self.filter_queryset(self.get_queryset())
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/event/views.py", line 54, in get_queryset
    print(self.request.POST.get('event_customer', False))
NameError: name 'request' is not defined
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/event/views.py changed, reloading.
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/event/views.py changed, reloading.
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/authentication/permissions.py changed, reloading.
ERROR:django.request:Internal Server Error: /epic/events/46/
Traceback (most recent call last):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 497, in dispatch
    self.initial(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 415, in initial
    self.check_permissions(request)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 332, in check_permissions
    if not permission.has_permission(request, self):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/authentication/permissions.py", line 78, in has_permission
    return request.user.id == customer[0].sales_contact.id or \
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/db/models/query.py", line 446, in __getitem__
    return qs._result_cache[0]
IndexError: list index out of range
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/authentication/permissions.py changed, reloading.
ERROR:django.request:Internal Server Error: /epic/events/46/
Traceback (most recent call last):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 497, in dispatch
    self.initial(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 415, in initial
    self.check_permissions(request)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 332, in check_permissions
    if not permission.has_permission(request, self):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/authentication/permissions.py", line 74, in has_permission
    customer.append(1)
AttributeError: 'QuerySet' object has no attribute 'append'
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/authentication/permissions.py changed, reloading.
ERROR:django.request:Internal Server Error: /epic/events/46/
Traceback (most recent call last):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 497, in dispatch
    self.initial(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 415, in initial
    self.check_permissions(request)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 332, in check_permissions
    if not permission.has_permission(request, self):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/authentication/permissions.py", line 74, in has_permission
    print(customer[0])
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/db/models/query.py", line 446, in __getitem__
    return qs._result_cache[0]
IndexError: list index out of range
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/authentication/permissions.py changed, reloading.
ERROR:django.request:Internal Server Error: /epic/events/46/
Traceback (most recent call last):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 497, in dispatch
    self.initial(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 415, in initial
    self.check_permissions(request)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 332, in check_permissions
    if not permission.has_permission(request, self):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/authentication/permissions.py", line 78, in has_permission
    if len(event) >= 1:
AttributeError: 'int' object has no attribute 'sales_contact'
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/authentication/permissions.py changed, reloading.
ERROR:django.request:Internal Server Error: /epic/events/46/
Traceback (most recent call last):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 497, in dispatch
    self.initial(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 415, in initial
    self.check_permissions(request)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 332, in check_permissions
    if not permission.has_permission(request, self):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/authentication/permissions.py", line 79, in has_permission
    return request.user.id == customer[0].sales_contact.id or \
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/db/models/query.py", line 446, in __getitem__
    return qs._result_cache[0]
IndexError: list index out of range
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/authentication/permissions.py changed, reloading.
ERROR:django.request:Internal Server Error: /epic/events/46/
Traceback (most recent call last):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 497, in dispatch
    self.initial(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 415, in initial
    self.check_permissions(request)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 332, in check_permissions
    if not permission.has_permission(request, self):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/authentication/permissions.py", line 79, in has_permission
    return request.user.id == customer[0].sales_contact.id or \
TypeError: 'Customer' object is not subscriptable
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/authentication/permissions.py changed, reloading.
WARNING:django.request:Unauthorized: /epic/events/46/
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/authentication/permissions.py changed, reloading.
WARNING:django.request:Unauthorized: /epic/events/46/
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/authentication/permissions.py changed, reloading.
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/authentication/permissions.py changed, reloading.
ERROR:django.request:Internal Server Error: /epic/events/46/
Traceback (most recent call last):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/db/models/fields/__init__.py", line 2018, in get_prep_value
    return int(value)
ValueError: invalid literal for int() with base 10: ''

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 497, in dispatch
    self.initial(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 415, in initial
    self.check_permissions(request)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 332, in check_permissions
    if not permission.has_permission(request, self):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/authentication/permissions.py", line 72, in has_permission
    customer = Customer.objects.filter(id=customer_id) # filter returns a list
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/db/models/manager.py", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/db/models/query.py", line 1420, in filter
    return self._filter_or_exclude(False, args, kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/db/models/query.py", line 1438, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/db/models/query.py", line 1445, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/db/models/sql/query.py", line 1532, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/db/models/sql/query.py", line 1562, in _add_q
    child_clause, needed_inner = self.build_filter(
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/db/models/sql/query.py", line 1478, in build_filter
    condition = self.build_lookup(lookups, col, value)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/db/models/sql/query.py", line 1303, in build_lookup
    lookup = lookup_class(lhs, rhs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/db/models/lookups.py", line 27, in __init__
    self.rhs = self.get_prep_lookup()
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/db/models/lookups.py", line 341, in get_prep_lookup
    return super().get_prep_lookup()
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/db/models/lookups.py", line 85, in get_prep_lookup
    return self.lhs.output_field.get_prep_value(self.rhs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/db/models/fields/__init__.py", line 2020, in get_prep_value
    raise e.__class__(
ValueError: Field 'id' expected a number but got ''.
ERROR:django.request:Internal Server Error: /epic/events/46/
Traceback (most recent call last):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/db/models/fields/__init__.py", line 2018, in get_prep_value
    return int(value)
ValueError: invalid literal for int() with base 10: ''

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 497, in dispatch
    self.initial(request, *args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 415, in initial
    self.check_permissions(request)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/rest_framework/views.py", line 332, in check_permissions
    if not permission.has_permission(request, self):
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/authentication/permissions.py", line 72, in has_permission
    customer = Customer.objects.filter(id=customer_id) # filter returns a list
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/db/models/manager.py", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/db/models/query.py", line 1420, in filter
    return self._filter_or_exclude(False, args, kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/db/models/query.py", line 1438, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/db/models/query.py", line 1445, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/db/models/sql/query.py", line 1532, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/db/models/sql/query.py", line 1562, in _add_q
    child_clause, needed_inner = self.build_filter(
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/db/models/sql/query.py", line 1478, in build_filter
    condition = self.build_lookup(lookups, col, value)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/db/models/sql/query.py", line 1303, in build_lookup
    lookup = lookup_class(lhs, rhs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/db/models/lookups.py", line 27, in __init__
    self.rhs = self.get_prep_lookup()
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/db/models/lookups.py", line 341, in get_prep_lookup
    return super().get_prep_lookup()
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/db/models/lookups.py", line 85, in get_prep_lookup
    return self.lhs.output_field.get_prep_value(self.rhs)
  File "/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/env/lib/python3.10/site-packages/django/db/models/fields/__init__.py", line 2020, in get_prep_value
    raise e.__class__(
ValueError: Field 'id' expected a number but got ''.
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/contract/views.py changed, reloading.
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/customer/views.py changed, reloading.
WARNING:django.request:Not Found: /epic/events/45/
WARNING:django.request:Forbidden: /epic/customers/24/
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/authentication/permissions.py changed, reloading.
WARNING:django.request:Forbidden: /epic/contracts/7/
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/authentication/permissions.py changed, reloading.
WARNING:django.request:Forbidden: /epic/events/
WARNING:django.request:Forbidden: /epic/events/47/
WARNING:django.request:Unauthorized: /epic/events/47/
WARNING:django.request:Not Found: /epic/events/47/
WARNING:django.request:Forbidden: /epic/events/50/
WARNING:django.request:Forbidden: /epic/events/50/
WARNING:django.request:Forbidden: /epic/users/
WARNING:django.request:Forbidden: /epic/users/6/
WARNING:django.request:Forbidden: /epic/users/8/
WARNING:django.request:Forbidden: /epic/customers/51/
WARNING:django.request:Forbidden: /epic/contracts/52/
WARNING:django.request:Forbidden: /epic/contracts/7/
WARNING:django.request:Forbidden: /epic/users/
WARNING:django.request:Forbidden: /epic/users/6/
WARNING:django.request:Forbidden: /epic/users/8/
WARNING:django.request:Unauthorized: /epic/events/44/
WARNING:django.request:Forbidden: /epic/events/
WARNING:django.request:Forbidden: /epic/events/44/
WARNING:django.request:Forbidden: /epic/events/
WARNING:django.request:Forbidden: /epic/users/
WARNING:django.request:Forbidden: /epic/users/6/
WARNING:django.request:Forbidden: /epic/users/8/
WARNING:django.request:Forbidden: /epic/customers/
WARNING:django.request:Forbidden: /epic/customers/
INFO:django.utils.autoreload:/mnt/c/Users/bbo/Documents/Developpeuse_Appli_Python/OC_Projet12bis/Epic/authentication/permissions.py changed, reloading.
